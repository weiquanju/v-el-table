{"version":3,"file":"index.mjs","sources":["../../app/v-el-table-source/src/components/utils/i18nInit.ts","../../app/v-el-table-source/src/components/index.ts"],"sourcesContent":["// import { useGlobalConfig } from 'element-plus'\r\nimport { ref, type Ref, watchEffect, type WatchOptionsBase, type WatchStopHandle } from 'vue'\r\nimport { i18n } from './I18N'\r\n\r\n// const local: Ref<any> = useGlobalConfig('locale') || ref({ name: '' })\r\n/*使用ElementPlus语言配置*/\r\nexport const lang: Ref<string> = ref('en')\r\n\r\n// 加载后，开始监听\r\nlet stopHandle: WatchStopHandle | undefined = undefined\r\nif (!stopHandle) {\r\n  stopHandle = watchEffect(\r\n    () => {\r\n      i18n.setLocale(lang.value)\r\n    },\r\n    { immediate: true } as WatchOptionsBase,\r\n  )\r\n}\r\n","import type { App } from 'vue'\r\nimport VElForm from './form'\r\nimport { lang } from './utils/i18nInit'\r\nimport VElTable from './table'\r\nimport VElTablePlus from './table-plus'\r\n\r\nexport default {\r\n  install: <Options extends { [k in string]: string | number }>(app: App<Element>, options?: Options) => {\r\n    app.component('VElForm', VElForm)\r\n    app.component('VElTable', VElTable)\r\n    app.component('VElTablePlus', VElTablePlus)\r\n    if (options && typeof options.lang === 'string') {\r\n      lang.value = options.lang\r\n    }\r\n  },\r\n}\r\n\r\nexport { VElForm, VElTable, VElTablePlus }\r\n"],"names":["lang","ref","stopHandle","watchEffect","i18n","index","app","options","VElForm","VElTable","VElTablePlus"],"mappings":";;;;;AAMa,MAAAA,IAAoBC,EAAI,IAAI;AAGzC,IAAIC;AACCA,MACUA,IAAAC;AAAA,EACX,MAAM;AACC,IAAAC,EAAA,UAAUJ,EAAK,KAAK;AAAA,EAC3B;AAAA,EACA,EAAE,WAAW,GAAK;AAAA;ACTtB,MAAeK,IAAA;AAAA,EACb,SAAS,CAAqDC,GAAmBC,MAAsB;AACjG,IAAAD,EAAA,UAAU,WAAWE,CAAO,GAC5BF,EAAA,UAAU,YAAYG,CAAQ,GAC9BH,EAAA,UAAU,gBAAgBI,CAAY,GACtCH,KAAW,OAAOA,EAAQ,QAAS,aACrCP,EAAK,QAAQO,EAAQ;AAAA,EAEzB;AACF;"}